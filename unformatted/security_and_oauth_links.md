Resource Owner Password Credentials


# Security and OAuth Links

* http://tools.ietf.org/html/rfc6749
* http://oauth.net/2/
* Oauth2 Flow: https://aaronparecki.com/articles/2012/07/29/1/oauth2-simplified#mobile-apps
* Obfuscation: http://stackoverflow.com/questions/4028883/storing-oauth-keys-in-code-for-iphone-apps
* Obfuscation: https://sites.google.com/site/greateindiaclub/mobil-apps/ios/securelystoringoauthkeysiniosapplication
* http://stackoverflow.com/questions/1934187/oauth-secrets-in-mobile-apps?rq=1

* http://railscasts.com/episodes/352-securing-an-api?view=asciicast


This outlines the oauth2 spec pretty well https://aaronparecki.com/articles/2012/07/29/1/oauth2-simplified#mobile-apps

In all cases you do not need store a secret on the mobile device

For your own API you do not sign params, but the only non-authed request is an authorize request

anyone abusing the request (i.e., for non authorization purposes or crazy authorization purposes) can be blacklisted

once authorized all API communication is done on a per user basis

which can safely be revoked if misused

this does not explicitly prevent a user from Mitm attacks (or running a Mitm attack against themselves to inject things), but ideally serverside validation protects against that - instead certificate pinning prevents mitm

including rate-limiting actions and protecting against invalid requests

if you wanted to sign requests, you could use the user specific secret and access token to sign the requests on a per user basis, but given that those are stored in the keychain they are available

any effort to store a signing secret in the app binary is considered a lost cause though it does provide some level of defense in depth. Secure storage of signing secrets is limited to obfuscation approaches which are not cryptographically safe... but are daunting from a complexity standpoint

# Your app API

* Uses Oauth2 for access requiring "Resource Owner Password Credentials"
  - [http://tools.ietf.org/html/rfc6749#section-1.3.3](http://tools.ietf.org/html/rfc6749#section-1.3.3)
  
* Use certificate pinning to prevent man in the middle attacks
    - Use self signed certs for long lived certs
    - Use public key pinning for certs that expire
    
* Store resulting access tokens in the Keychain



* https://developers.facebook.com/docs/facebook-login/security/
    * Never include your App Secret in client-side or decompilable code.
    * Sign all server-to-server Graph API calls with your App Secret.
    * Use unique short-term tokens on clients.
    * Don't trust that access tokens in use by your app were actually generated by your app.
    * Use our official SDKs where possible.
    * Reduce your app's attack surface area by locking down your Facebook app settings.
* https://developers.facebook.com/docs/facebook-login/security/#tokenhijacking
* https://developers.facebook.com/docs/facebook-login/access-tokens/#debug
